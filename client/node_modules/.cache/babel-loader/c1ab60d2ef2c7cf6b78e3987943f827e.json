{"ast":null,"code":"var _jsxFileName = \"/home/ccedric/LEARN/stage/Myapp/client/src/App.js\";\nimport React from \"react\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport MuiThemeProvider from \"material-ui/styles/MuiThemeProvider\";\nimport Axios from \"axios\";\nimport socketIOClient from \"socket.io-client\";\nimport \"./App.css\";\nimport Form from \"./Form\";\n\nclass App extends React.Component {\n  constructor() {\n    super();\n    this.socket = socketIOClient(\"http://localhost:8080\");\n    this.socket.on(\"delete\", data => {\n      console.log(\"reçu\");\n      this.DeleteElement(data);\n    });\n    this.socket.emit(\"new\");\n    this.state = {\n      loaded: false,\n      columns: [{\n        title: \"Name\",\n        field: \"name\"\n      }, {\n        title: \"Type\",\n        field: \"type\"\n      }, {\n        title: \"Price\",\n        field: \"price\",\n        type: \"numeric\"\n      }, {\n        title: \"rating\",\n        field: \"rating\",\n        type: \"numeric\"\n      }, {\n        title: \"warranty years\",\n        field: \"warranty_years\",\n        type: \"numeric\"\n      }],\n      items: []\n    };\n  }\n\n  handleModify() {\n    console.log(\"clicked\");\n  }\n\n  DeleteElement(index) {\n    var copy = this.state.items;\n    copy.splice(index, 1);\n    this.setState({\n      items: copy\n    });\n  }\n\n  handleDelete(index) {\n    this.DeleteElement(index);\n    this.socket.emit(\"delete\", index);\n  }\n\n  async getItem() {\n    const data = await Axios.get(\"http://localhost:8080/items\");\n    const data_string = JSON.stringify(data.data);\n    const data_array = JSON.parse(data_string);\n    this.setState({\n      items: data_array\n    });\n  }\n\n  render() {\n    if (this.state.loaded === false) {\n      this.setState({\n        loaded: true\n      });\n      this.getItem();\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, React.createElement(\"header\", {\n        className: \"App-header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, \"Loading\"));\n    }\n\n    return React.createElement(MuiThemeProvider, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(Form, {\n      onSubmit: submission => this.setState({\n        items: [...this.state.items, submission]\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }), React.createElement(TableContainer, {\n      component: Paper,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(Table, {\n      className: \"\",\n      \"aria-label\": \"simple table\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(TableHead, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(TableRow, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(TableCell, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, \"Items\"), React.createElement(TableCell, {\n      align: \"right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, \"type\"), React.createElement(TableCell, {\n      align: \"right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, \"price\"), React.createElement(TableCell, {\n      align: \"right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, \"rating\"), React.createElement(TableCell, {\n      align: \"right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, \"warranty years\"))), React.createElement(TableBody, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, this.state.items.map((item, index) => React.createElement(TableRow, {\n      key: item.name,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(TableCell, {\n      component: \"th\",\n      scope: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, item.name), React.createElement(TableCell, {\n      align: \"right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, item.type), React.createElement(TableCell, {\n      align: \"right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, item.price, \"\\u20AC\"), React.createElement(TableCell, {\n      align: \"right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, item.rating), React.createElement(TableCell, {\n      align: \"right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, item.warranty_years), React.createElement(TableCell, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(Button, {\n      variant: \"contained\",\n      color: \"primary\",\n      onClick: this.handleModify,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, \"modify\"), React.createElement(Button, {\n      variant: \"contained\",\n      color: \"secondary\",\n      onClick: () => {\n        this.handleDelete(index);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, \"delete\")))))))));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/home/ccedric/LEARN/stage/Myapp/client/src/App.js"],"names":["React","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","Button","MuiThemeProvider","Axios","socketIOClient","Form","App","Component","constructor","socket","on","data","console","log","DeleteElement","emit","state","loaded","columns","title","field","type","items","handleModify","index","copy","splice","setState","handleDelete","getItem","get","data_string","JSON","stringify","data_array","parse","render","submission","map","item","name","price","rating","warranty_years"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport MuiThemeProvider from \"material-ui/styles/MuiThemeProvider\";\nimport Axios from \"axios\";\nimport socketIOClient from \"socket.io-client\";\n\nimport \"./App.css\";\nimport Form from \"./Form\";\n\nclass App extends React.Component {\n  constructor() {\n    super();\n    this.socket = socketIOClient(\"http://localhost:8080\");\n    this.socket.on(\"delete\", data => {\n      console.log(\"reçu\");\n      this.DeleteElement(data);\n    });\n    this.socket.emit(\"new\");\n    this.state = {\n      loaded: false,\n      columns: [\n        { title: \"Name\", field: \"name\" },\n        { title: \"Type\", field: \"type\" },\n        { title: \"Price\", field: \"price\", type: \"numeric\" },\n        { title: \"rating\", field: \"rating\", type: \"numeric\" },\n        { title: \"warranty years\", field: \"warranty_years\", type: \"numeric\" }\n      ],\n      items: []\n    };\n  }\n  handleModify() {\n    console.log(\"clicked\");\n  }\n  DeleteElement(index) {\n    var copy = this.state.items;\n    copy.splice(index, 1);\n    this.setState({ items: copy });\n  }\n  handleDelete(index) {\n    this.DeleteElement(index);\n    this.socket.emit(\"delete\", index);\n  }\n\n  async getItem() {\n    const data = await Axios.get(\"http://localhost:8080/items\");\n    const data_string = JSON.stringify(data.data);\n    const data_array = JSON.parse(data_string);\n    this.setState({ items: data_array });\n  }\n  render() {\n    if (this.state.loaded === false) {\n      this.setState({ loaded: true });\n      this.getItem();\n      return (\n        <div>\n          <header className=\"App-header\">Loading</header>\n        </div>\n      );\n    }\n    return (\n      <MuiThemeProvider>\n        <div className=\"App\">\n          <Form\n            onSubmit={submission =>\n              this.setState({\n                items: [...this.state.items, submission]\n              })\n            }\n          />\n          <TableContainer component={Paper}>\n            <Table className=\"\" aria-label=\"simple table\">\n              <TableHead>\n                <TableRow>\n                  <TableCell>Items</TableCell>\n                  <TableCell align=\"right\">type</TableCell>\n                  <TableCell align=\"right\">price</TableCell>\n                  <TableCell align=\"right\">rating</TableCell>\n                  <TableCell align=\"right\">warranty years</TableCell>\n                </TableRow>\n              </TableHead>\n              <TableBody>\n                {this.state.items.map((item, index) => (\n                  <TableRow key={item.name}>\n                    <TableCell component=\"th\" scope=\"row\">\n                      {item.name}\n                    </TableCell>\n                    <TableCell align=\"right\">{item.type}</TableCell>\n                    <TableCell align=\"right\">{item.price}€</TableCell>\n                    <TableCell align=\"right\">{item.rating}</TableCell>\n                    <TableCell align=\"right\">{item.warranty_years}</TableCell>\n                    <TableCell>\n                      <Button\n                        variant=\"contained\"\n                        color=\"primary\"\n                        onClick={this.handleModify}\n                      >\n                        modify\n                      </Button>\n                      <Button\n                        variant=\"contained\"\n                        color=\"secondary\"\n                        onClick={() => {\n                          this.handleDelete(index);\n                        }}\n                      >\n                        delete\n                      </Button>\n                    </TableCell>\n                  </TableRow>\n                ))}\n              </TableBody>\n            </Table>\n          </TableContainer>\n        </div>\n      </MuiThemeProvider>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}